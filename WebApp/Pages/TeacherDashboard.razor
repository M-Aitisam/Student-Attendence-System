    @page "/TeacherDashboard"
    @inject NavigationManager Navigation
    @inject AttendanceService AttendanceService

    <div class="container mt-4">

        <!-- Subject & Instructor Details -->
        <div class="row mt-3">
            <div class="col-6">
                <p><strong>Subject:</strong> @SubjectName</p>
            </div>
            <div class="col-6 text-end">
                <p><strong>Session:</strong> @Session</p>
                <p><strong>Semester Time:</strong> @SemesterTime</p>
            </div>
        </div>

        <!-- Instructor Details -->
        <table class="table table-bordered mt-3">
            <thead class="table-light">
                <tr>
                    <th>Instructor Name</th>
                    <th>Designation</th>
                    <th>Department</th>
                    <th>Faculty Type</th>
                    <th>Total Regular Classes</th>
                    <th>Total Makeup Classes</th>
                </tr>
            </thead>
            <tbody>
                @if (InstructorDetails != null)
                {
                    <tr>
                        <td>@InstructorDetails.Name</td>
                        <td>@InstructorDetails.Designation</td>
                        <td>@InstructorDetails.Department</td>
                        <td>@InstructorDetails.FacultyType</td>
                        <td>@InstructorDetails.TotalRegularClasses</td>
                        <td>@InstructorDetails.TotalMakeupClasses</td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td colspan="6" class="text-center">No instructor details available</td>
                    </tr>
                }
            </tbody>
        </table>

        <!-- Attendance Table -->
        <div class="table-responsive mt-3">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Sr No.</th>
                        <th>Schedule ID</th>
                        <th>Subject Name</th>
                        <th>Schedule Day & Date</th>
                        <th>Class Time</th>
                        <th>Duration</th>
                        <th>Print Attendance</th>
                    </tr>
                </thead>
                <tbody>
                    @if (AttendanceRecords != null && AttendanceRecords.Any())
                    {
                        @foreach (var record in AttendanceRecords)
                        {
                            <tr>
                                <td>@record.SrNo</td>
                                <td>@record.ScheduleID</td>
                                <td>@record.SubjectName</td>
                                <td>@(record.ScheduleDate)</td>
                                <td>@record.ClassTime</td>
                                <td>@record.Duration</td>
                                <td><button class="btn btn-primary">Print</button></td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="7" class="text-center">No attendance records available</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    @code {
        // State properties
        [Parameter] public string? ClassName { get; set; }
        [Parameter] public string? SubjectName { get; set; }
        [Parameter] public string? TeacherName { get; set; }

        // Session details
        private string Session { get; set; } = string.Empty;
        private string SemesterTime { get; set; } = string.Empty;

        // Data properties
        private Instructor? InstructorDetails;
        private List<AttendanceRecord>? AttendanceRecords;

        protected override void OnParametersSet()
        {
            // Load data based on parameters
            if (!string.IsNullOrEmpty(ClassName) && !string.IsNullOrEmpty(SubjectName) && !string.IsNullOrEmpty(TeacherName))
            {
                InstructorDetails = AttendanceService.GetInstructorDetails(ClassName, SubjectName, TeacherName);
                AttendanceRecords = AttendanceService.GetAttendanceRecords(ClassName, SubjectName);

                // Dynamic session and semester info
                Session = "FALL-2024"; // Example value, adjust as needed
                SemesterTime = "Thursday, 12 September 2024 - Friday, 03 January 2025"; // Example value, adjust as needed
            }
        }
    }
