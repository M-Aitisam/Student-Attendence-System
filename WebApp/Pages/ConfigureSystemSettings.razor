    @page "/AdminSettings"
    @using ClassLibraryModel
    @using ClassLibraryDal
    @inject ClassLibraryModel.SettingsService SettingsService
    @inject StudentService StudentService

    <div class="admin-settings container py-4 " style="margin-left:14rem ; background-color:green">
        <!-- Header -->
        <h1 class="text-center mb-4">Admin Settings</h1>

        <div class="row">
            <!-- Left Sidebar -->
            <div class="col-md-3">
                <div class="list-group">
                    <button class="list-group-item list-group-item-action" @onclick="ShowSystemSettings">System Settings</button>
                    <button class="list-group-item list-group-item-action" @onclick="ShowStudentManagement">Student Management</button>
                    <button class="list-group-item list-group-item-action" @onclick="ShowAttendanceSettings">Attendance Settings</button>
                    <button class="list-group-item list-group-item-action" @onclick="ShowReportGeneration">Report Generation</button>
                    <button class="list-group-item list-group-item-action" @onclick="ShowMaintenanceSettings">System Maintenance</button>
                </div>
            </div>

            <!-- Right Content -->
            <div class="col-md-9">
                @if (currentView == "SystemSettings")
                {
                    <SystemSettingsForm Settings="Settings" OnSave="SaveSettings" />
                }
                else if (currentView == "StudentManagement")
                {
                    <StudentManagementPanel />
                }
                else if (currentView == "AttendanceSettings")
                {
                    <AttendanceSettingsForm Settings="Settings" />
                }
                else if (currentView == "ReportGeneration")
                {
                    <ReportGenerationPanel />
                }
                else if (currentView == "Maintenance")
                {
                    <SystemMaintenancePanel Settings="Settings" />
                }
            </div>
        </div>
    </div>

    @code {
        private string currentView = "SystemSettings";
        private SystemSettings Settings { get; set; } = new();

        protected override void OnInitialized()
        {
            Settings = SettingsService?.GetSettings() ?? new SystemSettings();
        }

        private void ShowSystemSettings() => currentView = "SystemSettings";
        private void ShowStudentManagement() => currentView = "StudentManagement";
        private void ShowAttendanceSettings() => currentView = "AttendanceSettings";
        private void ShowReportGeneration() => currentView = "ReportGeneration";
        private void ShowMaintenanceSettings() => currentView = "Maintenance";

        private void SaveSettings()
        {
            if (Settings != null)
            {
                SettingsService.SaveSettings(Settings);
            }
        }
    }
